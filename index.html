<!DOCTYPE html>
<html lang="en" ng-app="app">

<head>

    <meta charset="iso-8859-1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>GPSql</title>
    
    <!-- Bootstrap Core CSS -->
    <link href="../bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    

    <!-- Custom CSS -->
    <link href="../dist/css/sb-admin-2.css" rel="stylesheet"> 
    <!--<link href="../dist/css/animateLogin.css" rel="stylesheet">-->
    <!-- Custom Fonts -->
    <link href="../bower_components/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->	
    <link href="/static/css/style.css" rel="stylesheet" type="text/css">
    <!-- <link href="/static/css/styleMenu.css" rel="stylesheet" type="text/css"> -->
    <!--<link href="/static/css/sliderStyle.css" rel="stylesheet" type="text/css">-->
    <link href="/static/css/metisMenu.min.css" rel="stylesheet" type="text/css">
    <link href="/static/dist/css/ngDialog.css" rel="stylesheet" type="text/css">
    <link href="/static/dist/css/ngDialog-theme-default.css" rel="stylesheet" type="text/css">
    <script src="/static/js/libs/jquery.min.js"></script>
    <!--<script src="/static/js/jquery.flexdatalist.js"></script>-->    
    <!-- originalmente <script src="/static/js/jssor.slider-25.0.7.min.js" type="text/javascript"></script> -->
    <!--<script src="/static/js/indexMenu.js"></script> -->   
    
    <!--<link href="/static/css/jquery.flexdatalist.css" rel="stylesheet" type="text/css">-->
</head>

<body ng-controller="MainCtrl">
        <!-- Navigation -->
        <nav id="navMenu" class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0;" data-drag="false" data-jqyoui-options>
        <!--<nav  ng-class="classPadding" class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0; margin-top: 20px;  " data-drag="false" data-jqyoui-options>-->
   
            <div class="navbar-header">
                      <!-- <span style="margin-top: 20px;font-weight: bold;color: #337ab7;">GPSql</span>-->
                 
                      <div class="leftNav">
                            
                                <img src="/static/img/logoGPSOS.png"  style="margin-left:1%; float:left; height:50px;"/>
                                <img src="/static/img/iconoRendimiento.png"  style="margin-left:1%; float:left; margin-top:-3px;"/>
                                <span style="color: #337ab7;font-size: 17px; margin-left:15px; float:left; margin-top:30px;"><span class="negrita">GPS Q</span>uery <span class="negrita">P</span>erformance</span>
                                
                                
                        </div> 
                      <div class="rightNav">
                            <!-- <div class="infoUser" ng-if="logado">
                             <span class="negrita">Repository: </span><span ng-bind="repositorio"></span> / 
                             <span class="negrita">User: </span><span ng-bind="user"></span>
                            </div>-->
                          <div class="rightMenu" ng-if="logado">
                              <div ng-if="anteriorLogin">
                                <a ui-sref="Home({})" class="glyphicon glyphicon-home" aria-hidden="false"></a>
                                <span class="glyphicon glyphicon-off" aria-hidden="true" ng-click="logout()"></span>
                            </div>
                            <div ng-if="!anteriorLogin"> 
                                <a ui-sref="Home({})" class="glyphicon glyphicon-home" aria-hidden="false"></a>
                                <span  class="glyphicon glyphicon-circle-arrow-left" aria-hidden="true" ng-click="volver()"></span>
                                <span class="glyphicon glyphicon-off" aria-hidden="true" ng-click="logout()"></span>
                            </div>
                          </div>
                          <div class="rightMenu" ng-if="!logado">
                              <span class="negrita">GPS_QP v.1.0 </span><br/>
                              <span class="subtitle">Tools for <span class="negrita">DBA</span>s</span>
                          </div>
                      </div>
            </div>
        <div class="navbar-default sidebar" role="navigation">
                <div class="sidebar-nav navbar-collapse">
            <!-- /.navbar-header -->          
            <!-- /.navbar-top-links -->
           <!-- /.navbar-static-side -->
         <!--   <div class="navbar-default sidebar" role="navigation">
                <div class="sidebar-nav navbar-collapse">
            <div id="menuLogin" ng-if="!logado" class="flat-form">
            <ul class="tabs">
                <li>
                    <a href="#login" class="active">Login</a>
                </li>
                <li>
                    <a href="#repoAdmin">Repository Admin</a>
                </li>
            </ul>
            <div id="login" class="form-action show">
                <p>
                    Please, set your credentials.
                </p>
                <form action="/#/home" method="post">
                    <div>
                        <div class="capaSelectedRepo">
                            <span class="fa fa-database loginIcon"></span>
                            <select id="selectRepo" ng-model="selectedRepo"  ng-options="item as item.CONNECTION_NAME for item in repos track by item.CONNECTION_NAME" ng-change="cambiaRepo(selectedRepo);"></select>
                        </div>
                    </div>
                
                        <div>
                            <span class="glyphicon glyphicon-user loginIcon"></span>
                            <input type="text"  name="user" id="user" required="" placeholder="user" ng-value="datosRepo.USER_NAME"  title ="Complete this field">                                        
                        </div>              
                                <div>
                                            <span class="glyphicon glyphicon-lock loginIcon"></span>
                                            <input type="password" placeholder="Password" name="password" ng-model="password" id="passwordLogin" required="" title ="Complete this field"> 
                                        </div>
                            <span  id="botonLogin" class="btn btn-primary btn-block loginButton" aria-hidden="true"  data-toggle="tooltip" ng-click="login()" data-placement="top" title="Login" value="Login">Login</span>
                        <div class="alert alert-info" ng-if="infoLogin"><span ng-bind="infoLogin"></span></div>
                        <div class="errorLogin alert alert-danger" ng-if="errorLogin">
                            <span ng-bind="errorLogin"></span>
                        </div>   
                 
                </form>
            </div>
            <!--/#login.form-action-->
         <!--   <div id="repoAdmin" class="form-action hide">
                <div id="capaActionRepo" ng-hide="passOk && origen !=='remove'">
                <table id="actionRepoTable" class="repoTable">
                            <tr>
                                <th>Action</th>
                                <td>
                                   <select ng-model="origen"  name="origen" id="origen" class="form-control input-sm">
                                        <option ng-model="origen" selected label="Select an action" value="">Select an action</option>
                                        <option ng-model="origen" value="add">Add</option>
                                        <option ng-model="origen" value="edit">Edit</option>
                                        <option ng-model="origen" value="remove">Remove</option>
                                   </select>
                                </td>
                            </tr>
                            <tr>
                                <th>Password</th>
                                <td> 
                                    <input class="form-control input-sm" type="password" placeholder="Password" name="password" ng-model="repoPass" id="passwordRepo" required="">
                                </td>
                            </tr>
                </table>  
                   <button type="button" class="btn btn-primary" ng-click="checkPass()">Send</button>
                    <div class="alert alert-danger" ng-if="Error">
                        <span ng-bind="Error"></span>
                    </div>
            </div>
                <table ng-hide="passOk" id="infoRepoTable" class="repoTable">
                    <tr><th>Conection name</th><td ng-bind='datosRepo.CONNECTION_NAME'></td></tr>
                    <tr><th>Default repo</th><td ng-bind='datosRepo.DEFAULT_REPO'></td></tr>
                    <tr><th>Database type</th><td ng-bind='datosRepo.DB_TYPE'></td></tr>
                    <tr><th>Hostname</th><td ng-bind='datosRepo.HOST_NAME'></td></tr>
                    <tr><th>Port</th><td ng-bind='datosRepo.PORT'></td></tr>
                    <tr ng-if="datosRepo.DB_TYPE==='Oracle'"><th>Service/SID</th><td ng-bind='datosRepo.ORACLE_SERVICE_SID'></td></tr>
                    <tr><th>Database name</th><td ng-bind='datosRepo.DB_NAME'></td></tr>
                    <tr><th>User</th><td ng-bind='datosRepo.USER_NAME'></td></tr>
                </table>
                <div ng-if="origen === 'edit' && passOk">
                <table id="editRepoTable" class="repoTable">
                    <tr><th>Conection name ori</th><td><input style="margin-bottom: 5px;" type="text" ng-model="CONNECTION_NAME_ORI" name="CONNECTION_NAME_ORI" id="CONNECTION_NAME_ORI" class="form-control input-sm" ng-value="selectedRepoName" ng-bind="selectedRepoName" disabled/></td></tr>
                    <tr><th>Conection name</th><td><input style="margin-bottom: 5px;" type="text" ng-model="CONNECTION_NAME" name="CONNECTION_NAME" id="CONNECTION_NAME" class="form-control input-sm" ng-value='datosRepo.CONNECTION_NAME' /></td></tr>
                    <tr><th>Default repo</th><td><input style="margin-bottom: 5px;" type="checkbox" ng-model="DEFAULT_REPO" name="DEFAULT_REPO" value="yes" id="DEFAULT_REPO" class="checkDefaultRepo" ng-bind='datosRepo.DEFAULT_REPO'/></td></tr>
                     <tr><th>Database type</th>
                         <td>
                             <select type="DB_TYPE" ng-model="DB_TYPE"  name="DB_TYPE" id="DB_TYPE" ng-options="dbTypo.DB_TYPE for dbTypo in dbType track by dbTypo.DB_TYPE" class="form-control input-sm" ng-selected="datosRepo.DB_TYPE" selected>{{datosRepo.DB_TYPE}}
                                    <!--<option ng-model="DB_TYPE" selected label="Select Db type" value="">Select Db type</option> Finalizaba el comentario
                            </select>
                         </td>
                     </tr>
                    <tr><th>Hostname</th><td><input style="margin-bottom: 5px;" type="text" ng-model="HOST_NAME" name="HOST_NAME" id="HOST_NAME" class="form-control input-sm" ng-value='datosRepo.HOST_NAME'/></td></tr>
                    <tr><th>Port</th><td><input style="margin-bottom: 5px;" type="text" ng-model="PORT" name="PORT" id="PORT" class="form-control input-sm" ng-value='datosRepo.PORT'/></td></tr>
                            <tr ng-show="DB_TYPE ==='Oracle'"><th>Service/SID</th>
                                <td>
                                    <select type="ORACLE_SERVICE_SID" ng-model="ORACLE_SERVICE_SID"  name="ORACLE_SERVICE_SID" id="ORACLE_SERVICE_SID" ng-options="svSid.value for svSid in svSidOpts track by svSid.value" class="form-control input-sm" ng-selected="datosRepo.DB_TYPE" selected></select>
                                </td>
                            </tr>
                    <tr><th>Database name</th><td><input style="margin-bottom: 5px;" type="text" ng-model="DB_NAME" name="DB_NAME" id="DB_NAME" class="form-control input-sm" ng-value='datosRepo.DB_NAME'/></td></tr>
                    <tr><th>User</th><td><input style="margin-bottom: 5px;" type="text" ng-model="USER_NAME" name="USER_NAME" id="USER_NAME" class="form-control input-sm" ng-value='datosRepo.USER_NAME'/></td></tr>
                    <tr><th>Password</th><td><input style="margin-bottom: 5px;" type="password" ng-model="PASSWD" name="PASSWD" id="PASSWD" class="form-control input-sm" /></td></tr>
                </table>
                <p ng-if="Progress"><img src="/img/bar.gif" id="imgAddProgress" /></p>
                    <div>
                        <button type="button" class="btn btn-danger" data-dismiss="modal" ng-click="cancel()">Close</button>
                        <button type="button" class="btn btn-success" ng-click="TestConnModify()">Save changes</button>
                    </div>
                    <div class="alert alert-danger" ng-if="Error">
                        <span ng-bind="Error"></span>
                    </div>
            </div>

            </div>
        </div>
 -->
                    <div id="menuLogado" ng-if="logado">
                       <ul  class="nav" id="menu">
                         
                        <li ng-class="classNegritaHome">
                            <a href="#/home"><span class="glyphicon glyphicon-home "></span> Home</a>
                        </li>
                        <li>
                            <a class="sidebar-nav-item" ui-sref="Works({})"><span ng-class="classNegritaWorks"><span class="glyphicon glyphicon-briefcase" ></span> Works</span>
                            </a>
                            <ul class="nav nav-second-level">
                                <li ng-repeat="SelectedWork in WorksResults | orderBy:'+ID_WORK'">
                                   <a ng-bind="SelectedWork.WORK_NAME" ui-sref="WorksDetails({SelectedWorkName:SelectedWork.WORK_NAME})" ng-click="SeeDetails(SelectedWork)"></a>
                                    <ul class="nav nav-third-level">
                                        <li><a ui-sref="Snapshots({SelectedWorkName:SelectedWork.WORK_NAME,SelectedIdWork:SelectedWork.ID_WORK})" ng-click="SeeDetails(SelectedWork)"> Snapshots</a></li>
                                        <li><a ui-sref="Querys({SelectedWorkName:SelectedWork.WORK_NAME})" ng-click="SeeDetails(SelectedWork)"> Queries</a></li>
                                        <li><a ui-sref="Capture({SelectedWorkName:SelectedWork.WORK_NAME})" ng-click="SeeDetails(SelectedWork)"> Capture</a></li>
                                    </ul>
                                    
                                </li>
                            </ul>                      
                        </li>
                        <li><a  ui-sref="Reports({})"><span class="glyphicon glyphicon-list-alt" ></span> Reports</a></li>
                        <li><a  ui-sref="Login({})" ng-click="logout();"><span class="glyphicon glyphicon-off" ></span> Logout</a></li>                  
                    </ul>
                    </div>                   
                </div>
                <!-- /.sidebar-collapse -->
            </div>
        </nav>
        <div id="wrapper">    
           <div id="barra-lateral" ng-if="logado">
                    
                 <span class="glyphicon glyphicon-info-sign" aria-hidden="false" style="margin: 0px;padding: 0px;width: 50px;height: 33px;font-size: 20px;"></span>
                            
                 <h3 class="centrado" ng-bind="page"></h3>
                 <span ng-bind="helpText"></span>
           </div>     
       </div>                     
        <div id="contenido" ng-class="pagew" ui-view></div>
    <!-- /#wrapper -->
    <footer><a href="http://www.gpsos.es/" target="_blank" style="margin-right:35px;">www.gpsos.es</a></footer>
    
    <!-- Bootstrap Core JavaScript -->
    <script src="../bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

    <!-- Metis Menu Plugin JavaScript -->
    <script src="/static/js/libs/metisMenu.min.js"></script> 

    <!-- Custom Theme JavaScript -->
    <script src="../dist/js/sb-admin-2.js"></script>
        <script src="/static/js/libs/angular/angular.min.js"></script>    
        <script src="/static/js/ocLazyLoad.js"></script>
        <script src="/static/js/libs/ui-bootstrap.min.js"></script>
        <script src="/static/js/libs/angular/angular-animate.min.js"></script>
        <script src="/static/js/libs/angular/angular-sanitize.min.js"></script> 
      <script src="/static/js/libs/angular-dragdrop.js"></script>      
        <script src="/static/js/libs/dirPagination.js"></script>
        <script src="/static/js/libs/sockjs.min.js"></script>       
       <script src="/static/js/libs/vertxbus-3.5.0.js"></script>      
     <!--  <script src="https://raw.githubusercontent.com/vert-x3/vertx-web/master/vertx-web/src/client/vertx-eventbus.js"></script>-->
       
         <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-vertxbus/6.3.0/angular-vertxbus.min.js"></script> 
        <!-- <script src="/static/js/libs/angular-vertxbus.withpolyfill.min.js"></script>  -->
        <script src="/static/js/libs/angular/angular-ui-router.min.js"></script>
        <script src="/static/js/libs/defiant-latest.min.js"></script>    
        <script src="/static/js/libs/Chart.min.js"></script>
         <script src="/static/js/libs/angular-chart.min.js"></script>
         <!--<script src="/static/js/jssor.slider-25.0.7.min.js" type="text/javascript"></script> -->
        <script src="/static/js/libs/ui-bootstrap-tpls-0.13.0.min.js"></script>
        <script src="/static/js/libs/sockjs.min.js"></script>
        <script src="/static/js/app.js"></script>    
        <script src="/static/js/functions.js"></script>
        <script src="/static/js/libs/ngDialog.js"></script>
        <script src="/static/services/actionData.js"></script>
        <script src="/static/services/busService.js"></script>
        <script src="/static/js/controllers/MainController.js"></script>
        <script src="/static/js/controllers/busController.js"></script>
        <script src="/static/js/controllers/RepoController.js"></script>
        <script src="/static/js/controllers/LoginController.js"></script>
         <script src="/static/js/controllers/HomeController.js"></script>
         <script src="/static/js/controllers/WorksController.js"></script>        
         

          <!--<script src="/static/js/controllers/LoginController.js"></script> -->        
         
             
         
         
         
        <script src="/static/js/app.routes.js"></script>    
</body>
</html>
